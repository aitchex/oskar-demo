{% extends 'base.html' %}

{% load humanize %}

{% load static %}


{% block og_title %}صفحه اصلی{% endblock og_title %}


{% block content %}
{% with is_user_wholesaler=is_wholesaler %}

{% with id='offers-slideshow' products=products title='پیشنهادهای شگفت انگیز' %}
{% url 'offers' as url %}
{% include 'components/main-slideshow.html' %}
{% endwith %}

{% if products|length >= 5 %}
<section class="my-4 w-full grid gap-4
  md:my-8 sm:grid-cols-3">

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-yellow-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2
          2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        ارسال رایگان سفارشات
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        برای خرید بالای یک میلیون
      </p>
    </div>
  </div>

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-300" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2
          2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        امکان پرداخت در محل
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        تا خیالت راحتِ راحت باشه
      </p>
    </div>
  </div>

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-cyan-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955
          0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622
          5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        ضمانت سلامت کالاها
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        هرچی خراب بود پس می‌گیریم
      </p>
    </div>
  </div>

</section>
{% endif %}

{% with id='bestsellers-slideshow' products=bestsellers title='محصولات پرفروش' %}
{% url 'products' as url %}
{% include 'components/main-slideshow.html' with url=url|add:"?sort=4" %}
{% endwith %}

{% if bestsellers|length >= 5 %}
<section class="mt-4 w-full grid gap-4
  md:mt-8 sm:grid-cols-3">

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-yellow-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        ارسال سریع و بی‌دردسر
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        با پست و تیپاکس و باربری
      </p>
    </div>
  </div>

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0
          0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        چت آنلاین با کارشناس
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        هر سوالی داشتی بپرس
      </p>
    </div>
  </div>

  <div class="gray-box p-4 h-full flex items-center justify-center
    sm:flex-col
    lg:flex-row
    xl:p-8">
    <div class="p-2 bg-gray-700 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-cyan-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656
          7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
          d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" />
      </svg>
    </div>
    <div class="mr-4 w-[170px] whitespace-nowrap
      sm:mt-2 sm:mr-0 sm:text-center
      lg:mt-0 lg:mr-4 lg:text-right">
      <h3 class="font-iransansdn font-bold text-lg sm:text-base md:text-lg">
        تضمین بهترین قیمت‌ها
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        ارزون‌تر از اینجا پیدا نمی‌کنی
      </p>
    </div>
  </div>


</section>
{% endif %}

{% for item in suggestions %}
{% if item.products|slice:":5"|length == 5 %}

<section class="mt-4 md:mt-8">
  <a href="{% url 'products' item.category.category.slug item.category.slug %}"
    class="blue-shadow inline-block mb-4 p-4 w-full rounded-lg text-white
      transition-colors ease-linear bg-blue-500 hover:bg-blue-600 hover:text-white">
    <div class="flex items-center justify-center">
      <span class="px-4 mr-6 text-xl font-iransansdn font-bold">
        {{ item.category.name }}
      </span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 animate-arrow" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0
          011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd" />
      </svg>
    </div>
  </a>

  <div class="shadow-margin overflow-x-auto md:overflow-hidden">
    <div class="shadow-padding grid grid-cols-[repeat(5,60vw)] grid-rows-1 auto-rows-[0] gap-4
      overflow-y-hidden webkit-scroller-hidden moz-scroller-hidden
      sm:grid-cols-3
      md:grid-cols-4 md:gap-y-8
      lg:grid-cols-5">
      {% for product in item.products|slice:":5" %}
      {% include 'components/product-card.html' with product=product prefix="rod" img_loading='lazy' %}
      {% endfor %}
    </div>
  </div>
</section>

{% endif %}
{% endfor %}

{% endwith %}
{% endblock %}


{% block scripts %}

<script src="{% static 'js/home.js' %}"></script>

{% endblock scripts %}
